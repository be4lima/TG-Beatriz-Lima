<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Aplicação | Ciência de dados na Engenharia Ambiental e Urbana: abordagem introdutória com aplicações</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.27.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Aplicação | Ciência de dados na Engenharia Ambiental e Urbana: abordagem introdutória com aplicações" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Aplicação | Ciência de dados na Engenharia Ambiental e Urbana: abordagem introdutória com aplicações" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Beatriz Morais Lima e Wallace Gusmão Ferreira" />


<meta name="date" content="2022-08-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="modelos-sarima.html"/>
<link rel="next" href="referências-bibliográficas.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Ciência de dados na Engenharia Ambiental e Urbana</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> url: your book url like <span>https://bookdown.org/yihui/bookdown</span></a></li>
<li class="chapter" data-level="2" data-path="r---introdução-e-comandos-básicos.html"><a href="r---introdução-e-comandos-básicos.html"><i class="fa fa-check"></i><b>2</b> R - Introdução e Comandos Básicos</a>
<ul>
<li class="chapter" data-level="2.1" data-path="definindo-um-diretório-de-trabalho.html"><a href="definindo-um-diretório-de-trabalho.html"><i class="fa fa-check"></i><b>2.1</b> Definindo um diretório de trabalho</a></li>
<li class="chapter" data-level="2.2" data-path="vetores.html"><a href="vetores.html"><i class="fa fa-check"></i><b>2.2</b> Vetores</a></li>
<li class="chapter" data-level="2.3" data-path="base-de-dados.html"><a href="base-de-dados.html"><i class="fa fa-check"></i><b>2.3</b> Base de dados</a></li>
<li class="chapter" data-level="2.4" data-path="seleção-de-variáveis.html"><a href="seleção-de-variáveis.html"><i class="fa fa-check"></i><b>2.4</b> Seleção de variáveis</a></li>
<li class="chapter" data-level="2.5" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>2.5</b> R packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="análise-exploratória-de-dados.html"><a href="análise-exploratória-de-dados.html"><i class="fa fa-check"></i><b>3</b> Análise Exploratória de Dados</a>
<ul>
<li class="chapter" data-level="3.1" data-path="população-e-amostra.html"><a href="população-e-amostra.html"><i class="fa fa-check"></i><b>3.1</b> População e amostra</a></li>
<li class="chapter" data-level="3.2" data-path="sumarização-numérica-de-dados.html"><a href="sumarização-numérica-de-dados.html"><i class="fa fa-check"></i><b>3.2</b> Sumarização numérica de dados</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="sumarização-numérica-de-dados.html"><a href="sumarização-numérica-de-dados.html#medidas-de-posição"><i class="fa fa-check"></i><b>3.2.1</b> Medidas de Posição</a></li>
<li class="chapter" data-level="3.2.2" data-path="sumarização-numérica-de-dados.html"><a href="sumarização-numérica-de-dados.html#medidas-de-variabilidade"><i class="fa fa-check"></i><b>3.2.2</b> Medidas de Variabilidade</a></li>
<li class="chapter" data-level="3.2.3" data-path="sumarização-numérica-de-dados.html"><a href="sumarização-numérica-de-dados.html#medidas-de-forma"><i class="fa fa-check"></i><b>3.2.3</b> Medidas de Forma</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="aplicação.html"><a href="aplicação.html"><i class="fa fa-check"></i>Aplicação</a>
<ul>
<li class="chapter" data-level="3.2.4" data-path="aplicação.html"><a href="aplicação.html#pacote-climate"><i class="fa fa-check"></i><b>3.2.4</b> Pacote Climate</a></li>
<li class="chapter" data-level="3.2.5" data-path="aplicação.html"><a href="aplicação.html#inmet"><i class="fa fa-check"></i><b>3.2.5</b> INMET</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modelos-lineares.html"><a href="modelos-lineares.html"><i class="fa fa-check"></i><b>4</b> Modelos lineares</a>
<ul>
<li class="chapter" data-level="4.1" data-path="covariância.html"><a href="covariância.html"><i class="fa fa-check"></i><b>4.1</b> Covariância</a></li>
<li class="chapter" data-level="4.2" data-path="correlação.html"><a href="correlação.html"><i class="fa fa-check"></i><b>4.2</b> Correlação</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="correlação.html"><a href="correlação.html#coeficiente-de-pearson-r"><i class="fa fa-check"></i><b>4.2.1</b> Coeficiente de Pearson (r)</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="regressão-linear-simples.html"><a href="regressão-linear-simples.html"><i class="fa fa-check"></i><b>4.3</b> Regressão linear simples</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="regressão-linear-simples.html"><a href="regressão-linear-simples.html#Condicoes"><i class="fa fa-check"></i><b>4.3.1</b> Condições</a></li>
<li class="chapter" data-level="4.3.2" data-path="regressão-linear-simples.html"><a href="regressão-linear-simples.html#coeficiente-de-determinação-r²"><i class="fa fa-check"></i><b>4.3.2</b> Coeficiente de Determinação (R²)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="aplicação-1.html"><a href="aplicação-1.html"><i class="fa fa-check"></i>Aplicação</a>
<ul>
<li class="chapter" data-level="4.3.3" data-path="aplicação-1.html"><a href="aplicação-1.html#estudo-de-caso-1"><i class="fa fa-check"></i><b>4.3.3</b> Estudo de Caso 1</a></li>
<li class="chapter" data-level="4.3.4" data-path="aplicação-1.html"><a href="aplicação-1.html#estudo-de-caso-2"><i class="fa fa-check"></i><b>4.3.4</b> Estudo de Caso 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="análise-de-séries-temporais.html"><a href="análise-de-séries-temporais.html"><i class="fa fa-check"></i><b>5</b> Análise de séries temporais</a>
<ul>
<li class="chapter" data-level="5.1" data-path="estacionaridade.html"><a href="estacionaridade.html"><i class="fa fa-check"></i><b>5.1</b> Estacionaridade</a></li>
<li class="chapter" data-level="5.2" data-path="operador-de-diferenças.html"><a href="operador-de-diferenças.html"><i class="fa fa-check"></i><b>5.2</b> Operador de diferenças</a></li>
<li class="chapter" data-level="5.3" data-path="passeio-aleatório.html"><a href="passeio-aleatório.html"><i class="fa fa-check"></i><b>5.3</b> Passeio aleatório</a></li>
<li class="chapter" data-level="5.4" data-path="modelos-autoregressivos.html"><a href="modelos-autoregressivos.html"><i class="fa fa-check"></i><b>5.4</b> Modelos autoregressivos</a></li>
<li class="chapter" data-level="5.5" data-path="modelos-arma.html"><a href="modelos-arma.html"><i class="fa fa-check"></i><b>5.5</b> Modelos ARMA</a></li>
<li class="chapter" data-level="5.6" data-path="modelos-arima.html"><a href="modelos-arima.html"><i class="fa fa-check"></i><b>5.6</b> Modelos ARIMA</a></li>
<li class="chapter" data-level="5.7" data-path="modelos-sarima.html"><a href="modelos-sarima.html"><i class="fa fa-check"></i><b>5.7</b> Modelos SARIMA</a></li>
<li class="chapter" data-level="" data-path="aplicação-2.html"><a href="aplicação-2.html"><i class="fa fa-check"></i>Aplicação</a></li>
<li class="chapter" data-level="" data-path="referências-bibliográficas.html"><a href="referências-bibliográficas.html"><i class="fa fa-check"></i>Referências Bibliográficas</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analise-geoespacial.html"><a href="analise-geoespacial.html"><i class="fa fa-check"></i><b>6</b> Analise geoespacial</a>
<ul>
<li class="chapter" data-level="6.1" data-path="dados-espaciais-e-geoespaciais.html"><a href="dados-espaciais-e-geoespaciais.html"><i class="fa fa-check"></i><b>6.1</b> Dados espaciais e geoespaciais</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="dados-espaciais-e-geoespaciais.html"><a href="dados-espaciais-e-geoespaciais.html#sistema-geodesico-de-referência-sgr"><i class="fa fa-check"></i><b>6.1.1</b> Sistema Geodesico de Referência (SGR)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="aplicação-3.html"><a href="aplicação-3.html"><i class="fa fa-check"></i>Aplicação</a></li>
<li class="chapter" data-level="" data-path="referências-biliográficas.html"><a href="referências-biliográficas.html"><i class="fa fa-check"></i>Referências Biliográficas</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>7</b> Sharing your book</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="8" data-path="url-your-book-url-like-httpsbookdown.orgyihuibookdown-1.html"><a href="url-your-book-url-like-httpsbookdown.orgyihuibookdown-1.html"><i class="fa fa-check"></i><b>8</b> url: your book url like <span>https://bookdown.org/yihui/bookdown</span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ciência de dados na Engenharia Ambiental e Urbana: abordagem introdutória com aplicações</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aplicação-2" class="section level2 unnumbered hasAnchor">
<h2>Aplicação<a href="aplicação-2.html#aplicação-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para a aplicação, será realizado o exemplo do capítulo 4 do livro de BARROS <em>et.al</em> (2017). Será utilizada como <em>database</em> a série temporal de vendas de passagens aéreas nos EUA de janeiro de 1949 a dezembro de 1960.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="aplicação-2.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">list</span>(<span class="at">CRAN=</span><span class="st">&quot;http://cran.rstudio.com/&quot;</span>))</span>
<span id="cb2-2"><a href="aplicação-2.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="st">&quot;install.lock&quot;</span><span class="ot">=</span><span class="cn">FALSE</span>)</span>
<span id="cb2-3"><a href="aplicação-2.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&#39;rlang&#39;</span>,<span class="st">&#39;tidyverse&#39;</span>))</span></code></pre></div>
<pre><code>## Installing packages into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;rlang&#39; successfully unpacked and MD5 sums checked</code></pre>
<pre><code>## Warning: cannot remove prior installation of package &#39;rlang&#39;</code></pre>
<pre><code>## package &#39;tidyverse&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="aplicação-2.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Intalando pacotes necessários</span></span>
<span id="cb7-2"><a href="aplicação-2.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;BETS&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## also installing the dependencies &#39;lmtest&#39;, &#39;urca&#39;, &#39;forecast&#39;</code></pre>
<pre><code>## package &#39;lmtest&#39; successfully unpacked and MD5 sums checked
## package &#39;urca&#39; successfully unpacked and MD5 sums checked
## package &#39;forecast&#39; successfully unpacked and MD5 sums checked
## package &#39;BETS&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="aplicação-2.html#cb11-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;urca&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;urca&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="aplicação-2.html#cb14-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;TSA&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;TSA&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="aplicação-2.html#cb17-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;forecast&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;forecast&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="aplicação-2.html#cb20-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;lmtest&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;lmtest&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="aplicação-2.html#cb23-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;normtest&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## Warning: package &#39;normtest&#39; is not available for this version of R
## 
## A version of this package for your version of R might be available elsewhere,
## see the ideas at
## https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="aplicação-2.html#cb26-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;FinTS&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;FinTS&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="aplicação-2.html#cb29-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;xlsx&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/wesle/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;xlsx&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\wesle\AppData\Local\Temp\RtmpuuYIqj\downloaded_packages</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="aplicação-2.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carregando a série temporal</span></span>
<span id="cb32-2"><a href="aplicação-2.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data</span>(AirPassengers)</span>
<span id="cb32-3"><a href="aplicação-2.html#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="aplicação-2.html#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Análise gráfica</span></span>
<span id="cb32-5"><a href="aplicação-2.html#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts.plot</span>(AirPassengers, <span class="at">ylab =</span> <span class="st">&quot;Vendas de Passagens &quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Anos&quot;</span>)</span></code></pre></div>
<p><img src="TG-Beatriz-Lima_files/figure-html/unnamed-chunk-2-1.png" width="672" />
A partir do gráfico é possível perceber que existe uma tendência de aumento nas vendas de passagens. Em relação à variância, verifica-se que a distância entre os meses de maior e menor venda está aumentando, indicando uma variância não constante. Além de haver oscilações que se repetem anualmente, dando indícios de presença de sazonalidade, que será analisada mensalmente abaixo:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="aplicação-2.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">monthplot</span>(AirPassengers,<span class="at">ylab =</span> <span class="st">&quot;Vendas de Passagens &quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Meses&quot;</span>)</span></code></pre></div>
<p><img src="TG-Beatriz-Lima_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>No gráfico acima, os traços horizontais representam a média, a qual aumenta nos meses de férias dos EUA (Junho, Julho e Agosto). Pelos traços verticais e sua inclinação positiva, é possível verificar um aumento constante na venda de passagens ao longo dos anos. Ambos trazem indícios da não estacionariedade da série temporal.</p>
<p>Conforma comentado ao longo do capítulo, a série temporal é composta por quatro componentes não observáveis e estas serão analisadas a seguir com a função <code>decompose()</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="aplicação-2.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">decompose</span>(AirPassengers))</span></code></pre></div>
<p><img src="TG-Beatriz-Lima_files/figure-html/unnamed-chunk-4-1.png" width="672" />
A partir da figura acima, verifica-se que a série temporal é fortemente afetada pela tendência (<em>trend</em>), além da sazonalidade (<em>seasonal</em>). Sobra, ainda, a componente aleatória que é levemente “contaminada” pela componente sazonal, como é possível verificar na comparação entre <em>random</em> e <em>seasonal</em> no gráfico.</p>
<p>Conforme citado anteriormente, as análises gráficas dão indícios de não estacionariedade. Portanto, a estacionariedade será testada com <strong>significância estatística</strong> nas partes não sazonal e sazonal da série temporal. Para isso, serão realizados os seguintes passos:
1) análise gráfica;
2) análise da média e variância em diferentes períodos de tempo;
3) análise da Função de Autocorrelação (FAC)
4) testes de raiz unitária.</p>
<ul>
<li><strong>Parte não sazonal</strong>
A identificação da autocorrelação entre o valor atual e suas defasagens (lags) é feita abaixo. O intervalo de confiança (de 95%) são as linhas pontilhadas vermelhas e valores acima ou abaixo da linha são estatisticamente significantes. Portanto, existe autocorrelação significativa até o lag 36.</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="aplicação-2.html#cb35-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require</span>(BETS)</span></code></pre></div>
<pre><code>## Loading required package: BETS</code></pre>
<pre><code>## Warning: package &#39;BETS&#39; was built under R version 4.1.3</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;quantmod&#39;:
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<pre><code>## 
## Attaching package: &#39;BETS&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     predict</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="aplicação-2.html#cb41-1" aria-hidden="true" tabindex="-1"></a>    BETS<span class="sc">::</span><span class="fu">corrgram</span>(AirPassengers, <span class="at">lag.max =</span> <span class="dv">36</span>, <span class="at">ci=</span><span class="fl">0.95</span>)</span></code></pre></div>
<p>Existem três formas de realizar o teste ADF: raiz unitária + constante + tendência determinística escolhe-se ‘type=“trend”’; raiz unitária + constante, <code>type = "dryft"</code>; raiz unitária, <code>type= "none"</code>. No teste de raiz unitária, a hipótese nula é que a série temporal possui uma raiz unitária (ST é não estacionária) e a hipótese alternativa é que a série é estacionária.</p>
<p>Considerando a série temporal como sem tendência, com variância constante e com o critério de informação sendo o AIC:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="aplicação-2.html#cb42-1" aria-hidden="true" tabindex="-1"></a>  adf.drift <span class="ot">&lt;-</span> urca<span class="sc">::</span><span class="fu">ur.df</span>(<span class="at">y=</span>AirPassengers, <span class="at">type=</span> <span class="st">&quot;drift&quot;</span>, <span class="at">lag=</span><span class="dv">24</span>, <span class="at">selectlags=</span><span class="st">&quot;AIC&quot;</span>)</span>
<span id="cb42-2"><a href="aplicação-2.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  BETS<span class="sc">::</span><span class="fu">corrgram</span>(adf.drift<span class="sc">@</span>res, <span class="at">lag.max=</span><span class="dv">36</span>)</span>
<span id="cb42-3"><a href="aplicação-2.html#cb42-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb42-4"><a href="aplicação-2.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Estatística de teste </span></span>
<span id="cb42-5"><a href="aplicação-2.html#cb42-5" aria-hidden="true" tabindex="-1"></a>  adf.drift<span class="sc">@</span>teststat </span></code></pre></div>
<pre><code>##              tau2     phi1
## statistic 1.85818 7.914366</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="aplicação-2.html#cb44-1" aria-hidden="true" tabindex="-1"></a>  adf.drift<span class="sc">@</span>cval <span class="co">#valores tabulados por MacKinnon (1996)</span></span></code></pre></div>
<pre><code>##       1pct  5pct 10pct
## tau2 -3.46 -2.88 -2.57
## phi1  6.52  4.63  3.81</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="aplicação-2.html#cb46-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(adf.drift)</span></code></pre></div>
<pre><code>## Length  Class   Mode 
##      1  ur.df     S4</code></pre>
<p>A partir do gráfico, é possível afirmar que a estatística teste (<span class="math inline">\(\tau^2=1,8582\)</span>) é maior do que o valor máximo associado ao nível de confiança (-2,88). Portanto, a hipótese nula não é rejeitada e é possível concluir que a série temporal não é estacionária e, portanto, possui raiz unitária. Agora precisamos descobrir o número de diferenciações necessárias para torná-la estacionária.</p>
<p>Inicialmente, será realizada uma diferenciação para verificar se torna a série estacionária:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="aplicação-2.html#cb48-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts.plot</span>(<span class="fu">diff</span>(AirPassengers, <span class="at">lag=</span><span class="dv">1</span>, <span class="at">differences=</span><span class="dv">1</span>))</span></code></pre></div>
<p><img src="TG-Beatriz-Lima_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="aplicação-2.html#cb49-1" aria-hidden="true" tabindex="-1"></a>  BETS<span class="sc">::</span><span class="fu">corrgram</span>(<span class="fu">diff</span>(AirPassengers, <span class="at">lag=</span><span class="dv">1</span>, <span class="at">differences=</span><span class="dv">1</span>), <span class="at">lag.max=</span><span class="dv">36</span>)</span></code></pre></div>
<p>Com uma diferenciação é possível verificar que a série está estacionária na média. Porém, a ST está crescendo ao longo do tempo e, dessa forma, sua variância não está constante. Uma estratégia importante para tornar a variância constante, é aplicar <em>log</em> na série temporal. É o que será feito:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="aplicação-2.html#cb50-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts.plot</span>(<span class="fu">diff</span>(<span class="fu">log</span>(AirPassengers), <span class="at">lag=</span><span class="dv">1</span>, <span class="at">differences=</span><span class="dv">1</span>))</span></code></pre></div>
<p><img src="TG-Beatriz-Lima_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="aplicação-2.html#cb51-1" aria-hidden="true" tabindex="-1"></a>  BETS<span class="sc">::</span><span class="fu">corrgram</span>(<span class="fu">diff</span>(<span class="fu">log</span>(AirPassengers), <span class="at">lag=</span><span class="dv">1</span>, <span class="at">differences=</span><span class="dv">1</span>), <span class="at">lag.max=</span><span class="dv">48</span>)</span></code></pre></div>
<p>Agora, a parte não sazonal da série temporal é estacionária.</p>
<ul>
<li><strong>Parte sazonal</strong></li>
</ul>
<p>Pela FAC acima, é possível verificar que nos lags sazonais (12, 24, 36…) a função de autocorrelação apresenta um decrescimento, o que indica que a série temporal não é estacionária na parte sazonal.</p>
<p>Da mesma forma realizada na parte não sazonal, também será necessário realizar uma diferenciação para verificar se ela se torna estacionária. Nesse caso, o lag é modificado para 12 e, assim, é possível realizar a diferenciação na parte sazonal:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="aplicação-2.html#cb52-1" aria-hidden="true" tabindex="-1"></a>BETS<span class="sc">::</span><span class="fu">corrgram</span>(<span class="fu">diff</span>(<span class="fu">diff</span>(<span class="fu">log</span>(AirPassengers), <span class="at">lag =</span> <span class="dv">1</span>, <span class="at">differences =</span> <span class="dv">1</span>), <span class="at">lag =</span> <span class="dv">12</span>, <span class="at">differences =</span> <span class="dv">1</span>), <span class="at">lag.max =</span> <span class="dv">48</span>)</span></code></pre></div>
<p>A partir da figura acima, é possível verificar que a FAC não apresenta mais o decrescimento de antes, além de ter cortes bruscos nos lags 1 e 12. Para verificar a estacionariedade, será realizado o teste de RU:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="aplicação-2.html#cb53-1" aria-hidden="true" tabindex="-1"></a>  adf.drift2 <span class="ot">&lt;-</span> urca<span class="sc">::</span><span class="fu">ur.df</span>(<span class="at">y =</span> <span class="fu">diff</span>(<span class="fu">diff</span>(<span class="fu">log</span>(AirPassengers), <span class="at">lag =</span> <span class="dv">1</span>), <span class="at">lag =</span> <span class="dv">12</span>), <span class="at">type =</span> <span class="st">&quot;drift&quot;</span>, <span class="at">lags =</span> <span class="dv">24</span>, <span class="at">selectlags =</span> <span class="st">&quot;AIC&quot;</span>)</span>
<span id="cb53-2"><a href="aplicação-2.html#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="aplicação-2.html#cb53-3" aria-hidden="true" tabindex="-1"></a>  adf.drift2<span class="sc">@</span>teststat <span class="co"># Estatística de Teste</span></span></code></pre></div>
<pre><code>##                tau2     phi1
## statistic -4.039891 8.160779</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="aplicação-2.html#cb55-1" aria-hidden="true" tabindex="-1"></a>  adf.drift2<span class="sc">@</span>cval <span class="co">#valores tabulados por MacKinnon (1996)</span></span></code></pre></div>
<pre><code>##       1pct  5pct 10pct
## tau2 -3.46 -2.88 -2.57
## phi1  6.52  4.63  3.81</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="aplicação-2.html#cb57-1" aria-hidden="true" tabindex="-1"></a>  BETS<span class="sc">::</span><span class="fu">corrgram</span>(adf.drift2<span class="sc">@</span>res, <span class="at">lag.max =</span> <span class="dv">36</span>)</span></code></pre></div>
<p>A estatística teste (<span class="math inline">\(\tau^2=-4.03891\)</span>) é menor do que o valor máximo associado ao nível de confiança (-2,88). Portanto, conclui-se que a <em>série é estacionária</em>!</p>
<p>A partir daqui, será aplicado o método de Box &amp; Jenkins. Para a fase de <strong>identificação</strong> será observado a FAC (Função de Autocorrelação) e FACP (Função de Autocorrelação Parcial) do modelo estacionário:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="aplicação-2.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">#FAC</span></span>
<span id="cb58-2"><a href="aplicação-2.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  BETS<span class="sc">::</span><span class="fu">corrgram</span>(<span class="fu">diff</span>(<span class="fu">diff</span>(<span class="fu">log</span>(AirPassengers), <span class="at">lag =</span> <span class="dv">1</span>, <span class="at">differences =</span> <span class="dv">1</span>), <span class="at">lag =</span> <span class="dv">12</span>, <span class="at">differences =</span> <span class="dv">1</span>), <span class="at">lag.max =</span> <span class="dv">48</span>)</span>
<span id="cb58-3"><a href="aplicação-2.html#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="aplicação-2.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co">#FACP</span></span>
<span id="cb58-5"><a href="aplicação-2.html#cb58-5" aria-hidden="true" tabindex="-1"></a>  BETS<span class="sc">::</span><span class="fu">corrgram</span>(<span class="fu">diff</span>(<span class="fu">diff</span>(<span class="fu">log</span>(AirPassengers), <span class="at">lag =</span> <span class="dv">1</span>, <span class="at">differences =</span> <span class="dv">1</span>), <span class="at">lag =</span> <span class="dv">12</span>, <span class="at">differences =</span> <span class="dv">1</span>), <span class="at">type =</span> <span class="st">&quot;partial&quot;</span>, <span class="at">lag.max =</span> <span class="dv">48</span>)</span></code></pre></div>
<p>É importante citar que o próximo passo é verificar as FAC e FACP e obter “p” e “q” nos lags 1, 2, 3… (Não-sazonal) e lags 12, 24, 36… (Sazonais). Em um primeiro cenário, como a FAC determina a ordem das médias móveis (q), é possível verificar que a última observação significativa da FAC é o lag 1, portanto, q=1. Já a FACP dá a ordem da componente autoregressiva (p). Da mesma forma que na FAC, a última observação sigificativa é a 1. Como foi realizada uma diferenciação na parte sazonal e uma na parte não sazonal, a ordem de integração é 1 (d=1). O modelo resultante seria SARIMA(1,1,1)(1,1,1).</p>
<p>Em um segundo cenário, a última observação significativa da FAC continua sendo o lag 1 (q=1). A ordem de integração também continua a mesma. Mas no caso da FACP, é possível visualizar um decrescimento não só na parte sazonal, como também na parte não sazonal (p=0). Portanto, o modelo seria SARIMA(0,1,1)(0,1,1).</p>
<p>Com esses possíveis modelos, podemos iniciar a etapa de <strong>Estimação</strong>. Será utilizada a função <code>Arima()</code>, em que a variável de entrada é a série temporal original. A transformação logarítmica necessária pra deixar a variância constante é garantida pelo argumento <code>lambda = 0</code>. A função <code>Arima()</code> automaticamente já diferencia a série.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="aplicação-2.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;forecast&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: package &#39;forecast&#39; was built under R version 4.1.3</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="aplicação-2.html#cb61-1" aria-hidden="true" tabindex="-1"></a>fit.air <span class="ot">&lt;-</span> <span class="fu">Arima</span>(AirPassengers, <span class="at">order =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">seasonal =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">method =</span> <span class="st">&quot;ML&quot;</span>, <span class="at">lambda =</span> <span class="dv">0</span>)</span>
<span id="cb61-2"><a href="aplicação-2.html#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="aplicação-2.html#cb61-3" aria-hidden="true" tabindex="-1"></a>fit.air </span></code></pre></div>
<pre><code>## Series: AirPassengers 
## ARIMA(1,1,1)(1,1,1)[12] 
## Box Cox transformation: lambda= 0 
## 
## Coefficients:
##          ar1      ma1     sar1    sma1
##       0.1668  -0.5616  -0.0994  -0.497
## s.e.  0.2458   0.2114   0.1540   0.136
## 
## sigma^2 = 0.00138:  log likelihood = 245.16
## AIC=-480.31   AICc=-479.83   BIC=-465.93</code></pre>
<p>O próximo passo é verificar se os parâmetros do modelo são significativos:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="aplicação-2.html#cb63-1" aria-hidden="true" tabindex="-1"></a>BETS<span class="sc">::</span><span class="fu">t_test</span>(fit.air)</span></code></pre></div>
<pre><code>##           Coeffs Std.Errors         t Crit.Values Rej.H0
## ar1   0.16679124  0.2457980 0.6785705    1.977304  FALSE
## ma1  -0.56163441  0.2114211 2.6564723    1.977304   TRUE
## sar1 -0.09938487  0.1539918 0.6453907    1.977304  FALSE
## sma1 -0.49700743  0.1360485 3.6531644    1.977304   TRUE</code></pre>
<p>Como o parâmetro AR (ar1) foi rejeitado porque não é sigificativo, é importante retirar o parâmetro e analisá-lo novamente. Ele será retirado colocando o parâmetro p=0.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="aplicação-2.html#cb65-1" aria-hidden="true" tabindex="-1"></a>fit.air <span class="ot">&lt;-</span> <span class="fu">Arima</span>(AirPassengers, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">seasonal =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">method =</span> <span class="st">&quot;ML&quot;</span>, <span class="at">lambda =</span> <span class="dv">0</span>)</span>
<span id="cb65-2"><a href="aplicação-2.html#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="aplicação-2.html#cb65-3" aria-hidden="true" tabindex="-1"></a>fit.air</span></code></pre></div>
<pre><code>## Series: AirPassengers 
## ARIMA(0,1,1)(0,1,1)[12] 
## Box Cox transformation: lambda= 0 
## 
## Coefficients:
##           ma1     sma1
##       -0.4018  -0.5569
## s.e.   0.0896   0.0731
## 
## sigma^2 = 0.001371:  log likelihood = 244.7
## AIC=-483.4   AICc=-483.21   BIC=-474.77</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="aplicação-2.html#cb67-1" aria-hidden="true" tabindex="-1"></a>BETS<span class="sc">::</span><span class="fu">t_test</span>(fit.air)</span></code></pre></div>
<pre><code>##          Coeffs Std.Errors        t Crit.Values Rej.H0
## ma1  -0.4018268 0.08964405 4.482470    1.977054   TRUE
## sma1 -0.5569466 0.07309948 7.619023    1.977054   TRUE</code></pre>
<p>Como todos os parâmetros do modelo <span class="math inline">\(SARIMA(0,1,1)(0,1,1)_{12}\)</span> são significativos e os critérios de informação AIC, AICc e BIC foram minimizados, esse será o modelo escolhido para a próxima fase: o <strong>diagnóstico</strong>.</p>
<p>No diagnóstico, os resíduos serão testados, assim como foram testados no capítulo anterior. Serão analisados a ausência de autocorrelação linear, de heterocedasticidade condicional e normalidade. Para uma análise geral, será utilizada a função <code>tsdiag()</code>.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="aplicação-2.html#cb69-1" aria-hidden="true" tabindex="-1"></a>diag <span class="ot">&lt;-</span> <span class="fu">tsdiag</span>(fit.air, <span class="at">gof.lag =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="TG-Beatriz-Lima_files/figure-html/unnamed-chunk-15-1.png" width="672" />
A partir do gráfico <strong>Standarized Residuals</strong>, visualmente os dados aparentam ter heterocedasticidade e média zero, o que indica normalidade. Além disso, é possível verificar a existência de outliers, já que observações fora do intervalo [-3;3] seriam observações atípicas. Portanto, aparentemente não existem outliers.</p>
<p>A <strong>FAC</strong> dos resíduos (segundo gráfico) mostra que não há nenhuma defasagem significativa, portanto, o modelo SARIMA está representando bem a série temporal. O gráfico <strong>p-values for Ljung-Box statistic</strong> não é confiável, já que os p-values são calculados sem levar em conta o fato de os resíduos terem sido gerados a partir de um modelo ajustado. Por mais que a conclusão deste gráfico mostre que não há dependência linear entre os resíduos, a informação não é confiável.</p>
<p>O teste de Ljung &amp; Box será realizado para testar a autocorrelação dos resíduos:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="aplicação-2.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Box.test</span>(fit.air<span class="sc">$</span>residuals, <span class="at">lag=</span><span class="dv">24</span>, <span class="at">type=</span><span class="st">&quot;Ljung-Box&quot;</span>, <span class="at">fitdf =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## 
##  Box-Ljung test
## 
## data:  fit.air$residuals
## X-squared = 26.446, df = 22, p-value = 0.233</code></pre>
<p>O teste mostra a ausência de autocorrelação linear nos resíduos, já que o p-value é maior que 0.05. Portanto, a hipótese nula de que a série temporal não possui autocorrelação até o lag 24 não pode ser rejeitada.</p>
<p>A seguir será testada a estacionariedade da variância e, para isso, o teste Multiplicador de Lagrange para heterocedasticidade condicional autoregressiva será utilizado. Além disso, também será testada a normalidade dos resíduos com o teste de Shapiro-Wilk.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="aplicação-2.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variância</span></span>
<span id="cb72-2"><a href="aplicação-2.html#cb72-2" aria-hidden="true" tabindex="-1"></a>FinTS<span class="sc">::</span><span class="fu">ArchTest</span>(fit.air<span class="sc">$</span>residuals, <span class="at">lags=</span><span class="dv">12</span>)</span></code></pre></div>
<pre><code>## 
##  ARCH LM-test; Null hypothesis: no ARCH effects
## 
## data:  fit.air$residuals
## Chi-squared = 14.859, df = 12, p-value = 0.2493</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="aplicação-2.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Normalidade dos resíduos</span></span>
<span id="cb74-2"><a href="aplicação-2.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(fit.air<span class="sc">$</span>residuals)</span></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  fit.air$residuals
## W = 0.98637, p-value = 0.1674</code></pre>
<p>Em relação à variância, com p-value maior que 0.05, a hipótese nula de estacionariedade da vaiância nao é rejeitada. No caso do teste de Shapiro-Wilk, verifica-se que como p-value é maior que 0.05, a hipótese nula de normalidade também não é rejeitada.</p>
<p>A próxima fase será a <strong>Previsão</strong> utilizando o pacote <code>forecast()</code>. O argumento “h” é o horizonte de previsão e o “level” é o nível de confiança. Para verificar se a previsão é adequada, serão analisadas as métricas utilizando a função <code>accuracy</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="aplicação-2.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb76-2"><a href="aplicação-2.html#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="aplicação-2.html#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Previsão</span></span>
<span id="cb76-4"><a href="aplicação-2.html#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">forecast</span>(<span class="at">object=</span>fit.air, <span class="at">h=</span><span class="dv">12</span>, <span class="at">level=</span><span class="fl">0.95</span>))</span></code></pre></div>
<p><img src="TG-Beatriz-Lima_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="aplicação-2.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Métricas</span></span>
<span id="cb77-2"><a href="aplicação-2.html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">accuracy</span>(fit.air)</span></code></pre></div>
<pre><code>##                      ME     RMSE      MAE          MPE     MAPE      MASE
## Training set 0.05140376 10.15504 7.357555 -0.004079321 2.623637 0.2297061
##                     ACF1
## Training set -0.03689736</code></pre>
<p>Pelas métricas, o MAPE demonstra que o erro de previsão está em 0,47%, o que é muito bom. Dessa forma, conseguimos confirmar que a previsão está adequada!</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modelos-sarima.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="referências-bibliográficas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/04-citations.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
